<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Assignment 5, Part 2 - Calculator</title>

<script>

if(window.addEventListener){
  window.addEventListener('load', init);
}
//else{
  //window.attachEvent('onload', init);
//}    

//2.Create the user-defined function called init().
//3.Within the init() function, attach an event listener to each of the 16 buttons in the web page. You will //listen for the click event and when heard, a function called enter() should be called for each of the //buttons except for the equal sign. Since you are attaching an event listener to an object, you can pass in //this.value as a parameter to each of the enter() function calls. 
    
function init(){ 
    window.console.log("init() function entered!<br>");
    
    var seven    = document.getElementById("seven");
    var eight    = document.getElementById("eight"   );
    var nine     = document.getElementById("nine"    );
    var divide   = document.getElementById("divide"  );
    
    var four     = document.getElementById("four"    ); 
    var five     = document.getElementById("five"    ); 
    var six      = document.getElementById("six"     );
    var multiply = document.getElementById("multiply");
    
    var one      = document.getElementById("one"     );
    var two      = document.getElementById("two"     );
    var three    = document.getElementById("three"   );
    var subtract = document.getElementById("subtract");
    
    var zero     = document.getElementById("zero"    );
    var period   = document.getElementById("period"  );
    var add      = document.getElementById("add"     );
    var equal    = document.getElementById("equal"   );
    
    var result  = document.getElementById("result");
    
    window.console.log("All DOM references captured.");

//The Calculator II (30 points)

//In this part of the assignment you will practice working with the DOM, DOM Events, Functions, and more to //create a better version of the calculator that we built in a previous class. To complete this part, follow //the steps outlined below:

// DONE
//1.Notice the markup that I’ve included for you in the web page. There is a text box that will display 
//the value of each button click and 16 different buttons each of which represents a major key on a basic //calculator. Begin adding an event listener to the window object that “listens” for the load event and when //heard, calls a user-defined function called init().
        
// DONE
//4.For the equal button, call a function called calculate(). You will not pass any arguments into this //function.
    
// DONE
//5.Create a user-defined function called enter() that accepts val as an argument. 
    
// DONE
//6.Within the enter() function get the result text box by its ID and set its value plus equal to the val //parameter being passed in.
    
// DONE
//7.Create a user-defined function called calculate() that doesn’t accept any arguments. 
    
// DONE
//8.Within the calculate() function get the result text box by its ID and set its value equal to the //calculation currently stored in the result text box. HINT: Use the built-in eval() function to perform the //heavy lifting for you.
    
//Figure out a way to simplify your code so that you don’t have to manually attach an event handler to each //and every button. You should be able to programmatically attach a listener to every button on the page and //attach a handler that listens for the click without having to write so much code. 

//HINT: Remember the concept of “event bubbling”. Perhaps it makes more sense to listen for an event on a //parent element rather than each and every button….

    function enter(val){
        result.value += this.value;     
    }
    function calculate(){ 
        window.console.log("calculate() fired");
        result.value = eval(result.value);
    }
    
    //attach listeners to each key DOM reference...
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
        seven.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
        //seven.attachEvent("onclick", enter(this.value));
    //} 
    
    //window.console.log("seven EventListener added");
    
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
        eight.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
    //   eight.attachEvent("onclick", enter(this.value));
    //}  
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
        nine.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
       //nine.attachEvent("onclick", enter(this.value));
    //} 
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
        divide.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
       //divide.attachEvent("onclick", enter(this.value));
    //} 
    
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
       four.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
       //four.attachEvent("onclick", enter(this.value));
    //} 
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
       five.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
       //five.attachEvent("onclick", enter(this.value));
    //} 
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
       six.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
      // six.attachEvent("onclick", enter(this.value));
    //} 
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
       multiply.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
       //multiply.attachEvent("onclick", enter(this.value));
    //} 
    
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
       one.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
       //one.attachEvent("onclick", enter(this.value));
    //} 
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
       two.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
       //two.attachEvent("onclick", enter(this.value));
    //} 
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
       three.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
       //three.attachEvent("onclick", enter(this.value), false);
    //} 
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
       subtract.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
       //subtract.attachEvent("onclick", enter(this.value));
    //} 
    
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
       zero.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
       //zero.attachEvent("onclick", enter(this.value));
    //} 
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
       period.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
       //period.attachEvent("onclick", enter(this.value));
    //} 
    if (document.addEventListener) {    // For all major browsers, except IE 8 and earlier
       add.addEventListener("click", enter);
    } 
    //else if (document.attachEvent) {  // For IE 8 and earlier versions
       //add.attachEvent("onclick", enter(this.value));
    //} 
    if (equal.addEventListener) {    // For all major browsers, except IE 8 and earlier
       equal.addEventListener("click", calculate);
    } 
    //else if (equal.attachEvent) {  // For IE 8 and earlier versions
       //equal.attachEvent("onclick", calculate());
    //} 
    window.console.log("All Event Listeners Added");
    
    window.console.log("End of init() block.")
}//init   

</script>    
       
</head>

<body>
	<input type="text" readonly id="result">
    <br>
    <input type="button" id="seven" value="7">
    <input type="button" id="eight" value="8">
    <input type="button" id="nine" value="9">
    <input type="button" id="divide" value="/">
    <br>
    <input type="button" id="four" value="4">
    <input type="button" id="five" value="5">
    <input type="button" id="six" value="6">
    <input type="button" id="multiply" value="*">
    <br>
    <input type="button" id="one" value="1">
    <input type="button" id="two" value="2">
    <input type="button" id="three" value="3">
    <input type="button" id="subtract" value="-">
    <br>
    <input type="button" id="zero" value="0">
    <input type="button" id="period" value=".">
    <input type="button" id="add" value="+">
    <input type="button" id="equal" value="=">
</body>

</html>
